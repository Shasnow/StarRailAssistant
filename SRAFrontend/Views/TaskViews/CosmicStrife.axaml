<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:suki="https://github.com/kikipoulet/SukiUI"
             xmlns:viewModels="clr-namespace:SRAFrontend.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="SRAFrontend.Views.TaskViews.CosmicStrife"
             x:DataType="viewModels:TaskPageViewModel">
    <suki:GlassCard>
        <suki:GroupBox>
            <suki:GroupBox.Header>
                <CheckBox Content="旷宇纷争" IsChecked="{Binding CurrentConfig.EnabledTasks[3]}"/>
            </suki:GroupBox.Header>
            <ScrollViewer>
                <StackPanel Margin="10">
                    <suki:GlassCard>
                        <StackPanel>
                            <CheckBox IsChecked="{Binding CurrentConfig.SimulatedUniverseEnable}"
                                      Content="差分宇宙 - 千面英雄"/>
                            <StackPanel Orientation="Horizontal" Spacing="6">
                                <Label>模式</Label>
                                <ComboBox SelectedIndex="{Binding CurrentConfig.SimulatedUniverseMode}">
                                    <ComboBoxItem>刷单层</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Spacing="10">
                                <Label>次数</Label>
                                <NumericUpDown FormatString="0" Value="{Binding CurrentConfig.SimulatedUniverseRunTimes}" Minimum="1" Maximum="99999" />
                            </StackPanel>
                        </StackPanel>
                    </suki:GlassCard>
                    <TextBlock>请先手动完成一次以清除所有新手提示</TextBlock>
                    <suki:GlassCard>
                        <StackPanel>
                            <CheckBox IsChecked="{Binding CurrentConfig.CurrencyWarsEnable}"
                                      Content="货币战争 - 零和博弈" />
                            <Grid ColumnDefinitions="Auto, Auto">
                                <Label Content="开拓者名称 " />
                                <TextBox Grid.Column="1"
                                         Width="200"
                                         Text="{Binding CurrentConfig.CurrencyWarsUsername}"
                                         Watermark="请输入开拓者角色名"/>
                            </Grid>
                            
                            <StackPanel Orientation="Horizontal" Spacing="6">
                                <Label>类型</Label>
                                <ComboBox SelectedIndex="{Binding CurrencyWarsModeIndex}" Width="200" HorizontalAlignment="Left">
                                    <ComboBoxItem>标准博弈</ComboBoxItem>
                                    <ComboBoxItem>超频博弈</ComboBoxItem>
                                    <ComboBoxItem>刷开局</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                            <Separator/>
                            <StackPanel IsVisible="{Binding IsCwNormalMode}">
                                <!-- 难度显示在类型与模式之间，仅标准模式显示 -->
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <Label>难度</Label>
                                    <ComboBox SelectedIndex="{Binding CurrentConfig.CurrencyWarsDifficulty}" Width="200">
                                        <ComboBoxItem>最低难度</ComboBoxItem>
                                        <ComboBoxItem>最高难度</ComboBoxItem>
                                    </ComboBox>
                                </StackPanel>
                            
                                <StackPanel Orientation="Horizontal" Spacing="10">
                                    <Label>次数</Label>
                                    <NumericUpDown FormatString="0" Value="{Binding CurrentConfig.CurrencyWarsRunTimes}" Minimum="1" Maximum="99999" />
                                </StackPanel>
                            </StackPanel>
                            
                            <StackPanel IsVisible="{Binding !IsCwNormalMode}" Margin="0,4,0,0" Spacing="4">
                                <TextBlock Foreground="Gray"
                                           Text="刷开局将默认使用最高难度。下方可配置需要的投资环境与投资策略（用空格分隔多个）。" />

                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <Label Content="投资环境" />
                                    <TextBox Width="320"
                                             Text="{Binding CurrentConfig.CwRsInvestEnvironments}"
                                             Watermark="例如：长线利好 轮岗" />
                                </StackPanel>

                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <Label Content="投资策略" />
                                    <TextBox Width="320"
                                             Text="{Binding CurrentConfig.CwRsInvestStrategies}"
                                             Watermark="例如：砂里淘金" />
                                </StackPanel>

                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <Label Content="策略阶段" />
                                    <NumericUpDown Width="120" FormatString="0" Minimum="1" Maximum="2"
                                                   Value="{Binding CurrentConfig.CwRsInvestStrategyStage}"/>
                                </StackPanel>

                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <Label Content="最大尝试轮数" />
                                    <NumericUpDown Width="120" FormatString="0" Minimum="0" Maximum="99999"
                                                   Value="{Binding CurrentConfig.CwRsMaxRetry}"/>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </suki:GlassCard>
                    <TextBlock>请先手动完成一次以清除所有新手提示</TextBlock>
                </StackPanel>
            </ScrollViewer>
        </suki:GroupBox>
    </suki:GlassCard>
</UserControl>
